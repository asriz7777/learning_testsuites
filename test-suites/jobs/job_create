name: create_job_abstract

authors:
  - Asiya Shaji

type: SUITE

init:
  - create_org_abstract
  - create_githubacc_abstract
  - create_githubproj_abstract
  - create_environment_abstract


endpoint: /jobs

method: POST

auth: Default


testCases:
  - id: 1
    body: '{
        "name": "JB-{{@Random | 6}}",
        "environment": "UAT",
        "bot Region": "FXLabs/US_WEST_1",
         "cron": "0 15 10 ? * *",
         "project": "{{@create_githubproj_abstract_Response.data}}"
     }'

  assertions:
  - "@StatusCode == 200"
  - "@Response.errors == false"
  - "@Response.data.name == @Request.name"
  - "@Response.data.environment == @Request.environment"



  severity: Major

  category: Functional

  tags:
    - V2

  policies:
    logger: DEBUG
